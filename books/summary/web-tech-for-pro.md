# 프로가 되기 위한 웹 기술 입문

> [프로가 되기 위한 웹 기술 입문| 고모리 유스케 저|김정환 역|위키북스|2012.04.18](http://book.naver.com/bookdb/book_detail.nhn?bid=6876538) 을 요약.



## WWW의 탄생과 보급

작성한 문서(콘텐츠)를 전 세계에 공개해 공유한다. 

- HTML:  Hyper Text Makrup Langague
- HTTP: HyperText Transfer Protocol



## 동적인 콘텐츠에 대한 요구

#### CGI(Common Gateway Interface)의 탄생

- 웹서버가 클라이언트로부터 받은 요청을 웹 서버상에서 작동하는 프로그램으로 보내 응답을 받음.
- Perl 또는 C로 CGI를 구현.

#### CGI의 문제

- 대규모 애플리케이션 개발하는데 적합하지 않은 Perl 언어(단순 텍스트 처리에 강점).
- 요청마다 웹서버와 별개의 프로세스를 기동.

#### 자바/서블릿의 등장

- 웹의 폭발적인 성장과 CGI에 대한 불만으로 인해 새로운 기술에 대한 니즈(Needs). 자바는 가전 제품을 위해 등장한 언어이지만 JEE의 일부로써 서블릿을 제공.
- 객체지향적, 웹 컨테이너 내부에서 실행되므로 별도의 프로세스가 기동되지 않음.

#### 서블릿의 문제

```java
public class Cal extends HttpServlet {
  public void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
    // 중략
    
    out.println("<html><head>");
    out.println("<title>Calculator</title>");
    out.println("</head><body>");
    out.println("<p>1000원의 부가가치세 포함 가격 = " + (1000 * 1.1) + "원</p>");
    out.println("</body></html>");
    // 중략
  }
}
```

- HTML 코드를 서블릿 코드 안에 작성해야 함.
- HTML 코드 작성을 위해 자바 문법을 알아야 함.
- 컴파일이 필요.

#### JSP의 등장

```jsp
<html>
<head>
  <title>Calculator</title>
</head>
<body>
	<p>1000원의 부가가치세 포함 가격 = <% out.println(1000*1.1); %> 원</p>
</body>
```

- 서블릿의 단점 보완을 위해 등장한 Java Server Page 기술.
- HTML과 거의 근접한 형태로 자바 기술을 사용.
- 스크립틀릿(Scriptlet)을 통해 동적 컨텐츠 처리 `<% %>`
- 서블릿은 자바 코드 속에 HTML을, JSP는 HTML 속에 자바 코드를 넣는 개념으로 이해.

#### 서블릿, JSP 의 문제

- 커져가는 애플리케이션 규모
- 보일러 플레이트 등으로 인해 지나치게 많아 지는 코드.
- 업무의 분리가 잘 되지 않음.

#### 프레임워크의 등장



## HTTP 

#### 무상태 프로토콜(Stateless Protocol)

- 한번의 요청으로 하나의 용건이 해결(Request & Response).
- 단순함. 구현 난이도가 낮음.
- FTP와 같은 상태 유지 프로토콜은 오버헤드가 크고 접속을 위해서 인증이 필요. 

#### 쿠키(Cookie)

- 무상태인 HTTP에서 상태를 보관하기 위해 고안한 방법.
- HTTP 메시지에 Cookie 헤더와 값을 담아 보내고 서버 측에서 쿠키를 확인.

#### 쿠키의 문제

- 보안 취약. HTTP 메시지를 통해 쿠키를 주고 받으므로 쉽게 엿볼 수 있음.

#### 세션(Session)의 등장

- HTTP 규격이 아니라 애플리케이션 서버가 자의적으로 구현한 기능.
- 쿠키의 보안 단점을 보완하기 위해 클라이언트의 상태를 서버에서 관리.
- 쿠키와 완전히 별개의 기술이 아니라, 쿠키를 통해 세션ID를 주고 받고, 이 세션ID를 통해 서버 측에서 데이터를 참조.

#### 세션의 문제

- 쿠키보다 상대적으로 안전성이 높긴 하지만, 세션 ID를 훔친다면 역시 문제.
- 세션에 보존한 정보를 언제 해제해야 할 지 알 수 없음. 세션 정보는 서버의 메모리에 보존되므로 계속해서 세션이 늘어나면 메모리 부족이 발생.

#### 애플리케이션 서버

- 마지막 세션 정보 시각을 기억.
- 세션 타임아웃(Timeout).
- 세션 스코프와 요청 스코프를 구분하여 처리.

|       | 세션스코프                     | 요청스코프                 |
| ----- | ------------------------- | --------------------- |
| 유효범위  | 세션을 시작해서 종료하거나 타임아웃 될 때까지 | 요청을 받은 다음 응답을 돌려줄때 까지 |
| 시작과종료 | 웹 애플리케이션이 제어              | 애플리케이션 서버가 제어         |
| 주된용도  | 사용자 정보의 보존                | 페이지 이동 전후의 정보 보존      |

#### SSL를 통한 통신로의 암호화

- Secure Socket Layer의 약자.
- TCP/IP 상의 통신을 암호화해 제3자가 도청해도 내용을 알 수 없게 하기 위한 기술.
- 일반적으로 HTTP는 80 포트를 사용, HTTPS는 443 포트를 사용. 
- [위키: SSL](https://www.wikiwand.com/ko/SSL)

